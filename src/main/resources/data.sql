SET DB_CLOSE_DELAY -1;         
;              
CREATE USER IF NOT EXISTS "SA" SALT '4ed191a5e592adce' HASH '8409c94d7e1740471c68b292a4c3598ff85feaa05183563c315c4e6ebace2e1f' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."DAY_OPENING"(
    "DAY_OF_WEEK" TINYINT,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 12) NOT NULL,
    "OPENING_HOURS_ID" BIGINT
);               
ALTER TABLE "PUBLIC"."DAY_OPENING" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B" PRIMARY KEY("ID");  
       
INSERT INTO "PUBLIC"."DAY_OPENING" VALUES
(1, 1, 1),
(2, 2, 1),
(3, 3, 1),
(4, 4, 1),
(5, 5, 1),
(6, 6, 1),
(0, 7, 2),
(1, 8, 2),
(2, 9, 2),
(3, 10, 2),
(4, 11, 2);           
CREATE MEMORY TABLE "PUBLIC"."OPENING_HOURS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL
);        
ALTER TABLE "PUBLIC"."OPENING_HOURS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D" PRIMARY KEY("ID"); 
INSERT INTO "PUBLIC"."OPENING_HOURS" VALUES
(1),
(2);          
CREATE MEMORY TABLE "PUBLIC"."OPEN_INTERVAL"(
    "DAY_OPENING_ID" BIGINT,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 21) NOT NULL,
    "END_TIME" CHARACTER VARYING(255),
    "START_TIME" CHARACTER VARYING(255),
    "TYPE" CHARACTER VARYING(255)
);       
ALTER TABLE "PUBLIC"."OPEN_INTERVAL" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("ID"); 
INSERT INTO "PUBLIC"."OPEN_INTERVAL" VALUES
(1, 1, '15:00', '11:30', 'OPEN'),
(1, 2, '00:00', '18:30', 'OPEN'),
(2, 3, '15:00', '11:30', 'OPEN'),
(2, 4, '00:00', '18:30', 'OPEN'),
(3, 5, '15:00', '11:30', 'OPEN'),
(3, 6, '00:00', '18:30', 'OPEN'),
(4, 7, '15:00', '11:30', 'OPEN'),
(4, 8, '00:00', '18:30', 'OPEN'),
(5, 9, '00:00', '18:00', 'OPEN'),
(6, 10, '15:00', '11:30', 'OPEN'),
(7, 11, '14:00', '11:30', 'OPEN'),
(7, 12, '22:00', '18:30', 'OPEN'),
(8, 13, '14:00', '11:30', 'OPEN'),
(8, 14, '22:00', '18:30', 'OPEN'),
(9, 15, '14:00', '11:30', 'OPEN'),
(9, 16, '22:00', '18:30', 'OPEN'),
(10, 17, '14:00', '11:30', 'OPEN'),
(10, 18, '22:00', '18:30', 'OPEN'),
(11, 19, '14:00', '11:30', 'OPEN'),
(11, 20, '22:00', '18:30', 'OPEN');             
CREATE MEMORY TABLE "PUBLIC"."PLACE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "OPENING_HOURS_ID" BIGINT,
    "LABEL" CHARACTER VARYING(255),
    "LOCATION" CHARACTER VARYING(255)
);      
ALTER TABLE "PUBLIC"."PLACE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_48" PRIMARY KEY("ID");        
INSERT INTO "PUBLIC"."PLACE" VALUES
(1, 1, 'Le Café du Marché', 'Rue de Conthey 17, 1950 Sion'),
(2, 2, 'Casa Ferlin', 'Stampfenbachstrasse 38, 8006 Zürich'); 
ALTER TABLE "PUBLIC"."DAY_OPENING" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" CHECK("DAY_OF_WEEK" BETWEEN 0 AND 6) NOCHECK;        
ALTER TABLE "PUBLIC"."PLACE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" UNIQUE NULLS DISTINCT ("OPENING_HOURS_ID");
ALTER TABLE "PUBLIC"."DAY_OPENING" ADD CONSTRAINT "PUBLIC"."FK8WI3PR9E6MT97MDMMQIJIBS4X" FOREIGN KEY("OPENING_HOURS_ID") REFERENCES "PUBLIC"."OPENING_HOURS"("ID") NOCHECK;    
ALTER TABLE "PUBLIC"."OPEN_INTERVAL" ADD CONSTRAINT "PUBLIC"."FKELFJ27JXA770WT5HXJ9FLMF8C" FOREIGN KEY("DAY_OPENING_ID") REFERENCES "PUBLIC"."DAY_OPENING"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."PLACE" ADD CONSTRAINT "PUBLIC"."FK3V0AQI6R5FKHCGBKDIHBSJYEV" FOREIGN KEY("OPENING_HOURS_ID") REFERENCES "PUBLIC"."OPENING_HOURS"("ID") NOCHECK;          